MARKETS = [
    'ENERGY', 
    'RAISEREG', "RAISE6SEC", "RAISE60SEC", "RAISE5MIN", 
    "LOWERREG", "LOWER6SEC", "LOWER60SEC", "LOWER5MIN"
]

MARKETS_REG = ['ENERGY','RAISEREG','LOWERREG']

MARKET_PRICE_CAP_ACTUAL = 15000.0
MARKET_PRICE_CAP = 1000.0 # artificial price cap to reduce price space more for better convergence
MARKET_PRICE_FLOOR = -1000.0
MIN_FCAS_PRICE = 0.0

FCAS_SERVICES = MARKETS[1:]

# create multi dimensional datastructure of rolling horizon forecasts for MPC to use
BEST_MODELS = {
    'ROP': 'lstm_ROP_forecast_20240923_114607_best.pth',
    'RAISE6SECROP': 'lstm_RAISE6SECROP_forecast_20240923_122604_best.pth',
    'RAISE60SECROP': 'lstm_RAISE60SECROP_forecast_20240923_123620_best.pth',
    'RAISE5MINROP': 'lstm_RAISE5MINROP_forecast_20240923_124639_best.pth',
    'RAISEREGROP': 'lstm_RAISEREGROP_forecast_20240923_121545_best.pth',
    'LOWER6SECROP': 'lstm_LOWER6SECROP_forecast_20240923_130614_best.pth',
    'LOWER60SECROP': 'lstm_LOWER60SECROP_forecast_20240923_131734_best.pth',
    'LOWER5MINROP': 'lstm_LOWER5MINROP_forecast_20240923_133256_best.pth',
    'LOWERREGROP': 'lstm_LOWERREGROP_forecast_20240923_125657_best.pth'
}
MODELS_PATH = 'E:/Code/Calliope/scripts/lstm_models/'

# HACK add min and maximum demands from data analysis to normalise the observation space for demand
DEMAND_MIN_HACK =  {
    'ENERGY': 5940.51,
    'RAISE6SEC': 0,
    'RAISE60SEC': 0,
    'RAISE5MIN': 0,
    'RAISEREG': 0,
    'LOWER6SEC': 0,
    'LOWER60SEC': 0,
    'LOWER5MIN': 0,
    'LOWERREG': 0,
}

DEMAND_MAX_HACK =  {
    'ENERGY': 13778.13,
    'RAISE6SEC': 249.453870,
    'RAISE60SEC': 285.787200,
    'RAISE5MIN': 353.000000,
    'RAISEREG': 223.046850,
    'LOWER6SEC': 150.000000,
    'LOWER60SEC': 242.649770,
    'LOWER5MIN': 302.000000,
    'LOWERREG': 121.000000,
}

PRICE_MIN_HACK =  {
    'ENERGY': MARKET_PRICE_FLOOR,
    'RAISE6SEC': MIN_FCAS_PRICE,
    'RAISE60SEC': MIN_FCAS_PRICE,
    'RAISE5MIN': MIN_FCAS_PRICE,
    'RAISEREG': MIN_FCAS_PRICE,
    'LOWER6SEC': MIN_FCAS_PRICE,
    'LOWER60SEC': MIN_FCAS_PRICE,
    'LOWER5MIN': MIN_FCAS_PRICE,
    'LOWERREG': MIN_FCAS_PRICE,
}

PRICE_MAX_HACK =  {
    'ENERGY': MARKET_PRICE_CAP,
    'RAISE6SEC': MARKET_PRICE_CAP,
    'RAISE60SEC': MARKET_PRICE_CAP,
    'RAISE5MIN': MARKET_PRICE_CAP,
    'RAISEREG': MARKET_PRICE_CAP,
    'LOWER6SEC': MARKET_PRICE_CAP,
    'LOWER60SEC': MARKET_PRICE_CAP,
    'LOWER5MIN': MARKET_PRICE_CAP,
    'LOWERREG': MARKET_PRICE_CAP,
}

# INDICIES FOR THE ACTIONS THAT THE AGENT CAN TAKE
# charge, discharge, rreg, lreg, rf, lf, rs, ls, rd, ld
ACTION_INDICES = {
    'CHARGE': 0, 
    'DISCHARGE': 1,
    'RAISEREG': 2, 
    "LOWERREG": 3, 
    "RAISE6SEC": 4, 
    "LOWER6SEC": 5, 
    "RAISE60SEC": 6, 
    "LOWER60SEC": 7, 
    "RAISE5MIN": 8, 
    "LOWER5MIN": 9
}

RAISE_REG_IDX = 1
LOWER_REG_IDX = 5
RAISE_CONTINGENCY_IDX = [2,3,4]
LOWER_CONTINGENCY_IDX = [6,7,8]

PRICE_BID_COLS = [
    'PRICEBAND1', 'PRICEBAND2', 'PRICEBAND3', 'PRICEBAND4', 'PRICEBAND5', 
    'PRICEBAND6', 'PRICEBAND7', 'PRICEBAND8', 'PRICEBAND9', 'PRICEBAND10'
]

VOLUME_BID_COLS = [
    'BANDAVAIL1', 'BANDAVAIL2', 'BANDAVAIL3', 'BANDAVAIL4', 'BANDAVAIL5',
    'BANDAVAIL6', 'BANDAVAIL7', 'BANDAVAIL8', 'BANDAVAIL9', 'BANDAVAIL10'
 ]